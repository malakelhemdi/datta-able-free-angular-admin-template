"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[8167],{2208:(O,v,l)=>{l.d(v,{Gu:()=>m,HH:()=>F,PE:()=>_,QJ:()=>g,Ql:()=>f,Sq:()=>n,UH:()=>u,VF:()=>z,Vy:()=>i,a8:()=>C,ez:()=>b,lP:()=>t,oz:()=>y,r9:()=>p});let i=[{value:!0,label:"\u0646\u0639\u0645"},{value:!1,label:"\u0644\u0627"}],g=[{value:"A",label:"\u0639\u0644\u064a\u0627"},{value:"B",label:"\u062a\u0646\u0641\u064a\u0630\u064a\u0647"},{value:"C",label:"\u0623\u0633\u0627\u0633\u064a\u0629"}],C=[{value:1,label:"\u0630\u0643\u0631"},{value:2,label:"\u0627\u0646\u062b\u064a"}],y=[{value:1,label:"\u0645\u0633\u062a\u062e\u062f\u0645"},{value:2,label:"\u0645\u062f\u064a\u0631 \u0625\u062f\u0627\u0631\u0629"},{value:3,label:"\u0631\u0626\u064a\u0633 \u0642\u0633\u0645"},{value:4,label:"\u0631\u0626\u064a\u0633 \u0648\u062d\u062f\u0629"},{value:5,label:"\u0645\u062f\u064a\u0631 \u0639\u0627\u0645"},{value:6,label:"\u0645\u062f\u064a\u0631 \u0645\u0643\u062a\u0628"}],_=[{value:1,label:"\u0645\u0645\u062a\u0627\u0632"},{value:2,label:"\u062c\u064a\u062f \u062c\u062f\u0627"},{value:3,label:"\u062c\u064a\u062f"},{value:4,label:"\u0645\u062a\u0648\u0633\u0637 "},{value:5,label:"\u0636\u0639\u064a\u0641 "},{value:6,label:"\u0625\u064a\u0641\u0627\u062f "},{value:7,label:"\u0644\u0627\u064a\u0648\u062c\u062f "}],u=[{value:1,label:"\u0623\u0639\u0632\u0628"},{value:2,label:"\u0645\u062a\u0632\u0648\u062c \u0648\u0644\u0627\u064a\u0639\u0648\u0644"},{value:3,label:"\u0645\u062a\u0632\u0648\u062c \u0648\u064a\u0639\u0648\u0644"}],z=[{value:1,label:"\u0645\u0646\u0633\u0628"},{value:2,label:"\u062a\u0639\u064a\u064a\u0646"},{value:3,label:"\u0625\u0639\u0627\u062f\u0629 \u062a\u0639\u064a\u064a\u0646"},{value:4,label:"\u0646\u0642\u0644"},{value:6,label:"\u062a\u0639\u064a\u064a\u0646 \u0628\u0645\u0648\u0627\u0641\u0642\u0629 \u0627\u0644\u0645\u0624\u0633\u0633\u0629"}],b=[{value:1,label:"\u062f\u0627\u062e\u0644"},{value:2,label:"\u062e\u0627\u0631\u062c"}],F=[{value:1,label:"\u0623\u0645"},{value:2,label:"\u0623\u0628"},{value:3,label:"\u0632\u0648\u062c\u0629_\u0632\u0648\u062c"},{value:4,label:"\u0627\u0628\u0646"},{value:5,label:"\u0627\u0628\u0646\u0629"}],f=[{value:"49",label:"\u0627\u0644\u062f\u064a\u0646\u0627\u0631_\u0627\u0644\u0644\u064a\u0628\u064a_\u0644\u0644\u0645\u0642\u064a\u0645\u064a\u0646_\u0628\u0637\u0631\u0627\u0628\u0644\u0633"},{value:"52",label:"\u0627\u0644\u062f\u064a\u0646\u0627\u0631_\u0627\u0644\u0644\u064a\u0628\u064a_\u0644\u0644\u0645\u0642\u064a\u0645\u064a\u0646_\u0628\u0627\u0644\u062d\u0642\u0648\u0644_\u0627\u0644\u0646\u0641\u0637\u064a\u0629"},{value:"65",label:"\u062f\u0648\u0644\u0627\u0631_\u0623\u0645\u0631\u064a\u0643\u064a_\u0633\u0648\u0642_\u0623\u0645\u0631\u064a\u0643\u0627_\u0646\u064a\u0648\u0632\u064a\u0644\u0646\u062f\u0627_\u0623\u0645\u0631\u064a\u0643\u0627_\u0627\u0644\u0634\u0645\u0627\u0644\u064a\u0629_\u0648\u0627\u0644\u062c\u0646\u0648\u0628\u064a\u0629_\u0643\u0646\u062f\u0627_\u0627\u0644\u064a\u0627\u0628\u0627\u0646"},{value:"66",label:"\u062c\u0646\u064a\u0647_\u0627\u0633\u062a\u0631\u0644\u064a\u0646\u064a_\u0633\u0648\u0642_\u0628\u0631\u064a\u0637\u0627\u0646\u064a\u0627"},{value:"67",label:"\u064a\u0648\u0631\u0648_\u0633\u0648\u0642_\u0623\u0648\u0631\u0648\u0628\u0627_\u0627\u0644\u063a\u0631\u0628\u064a\u0629_\u0627\u0644\u0623\u0633\u0643\u0646\u062f\u0646\u0627\u0641\u064a\u0629_\u062c\u0645\u064a\u0639_\u062f\u0648\u0644_\u0627\u0644\u063a\u0631\u0628\u064a\u0629"},{value:"68",label:"\u064a\u0648\u0631\u0648_\u0633\u0648\u0642_\u0623\u0648\u0631\u0648\u0628\u0627_\u0627\u0644\u0634\u0631\u0642\u064a\u0629_\u0635\u0631\u0628\u064a\u0627_\u0643\u0631\u0648\u0627\u062a\u064a\u0627_\u0627\u0644\u0628\u0648\u0633\u0646\u0629_\u062a\u0631\u0643\u064a\u0627_\u0631\u0648\u0633\u064a\u0627_\u0623\u0648\u0643\u0631\u0627\u0646\u064a\u0627_\u0628\u0648\u0644\u0646\u062f\u0627_\u0631\u0648\u0645\u0627\u0646\u064a\u0627"},{value:"69",label:"\u062f\u0648\u0644\u0627\u0631_\u0623\u0645\u0631\u064a\u0643\u064a_\u0633\u0648\u0642_\u0627\u0644\u0634\u0631\u0642_\u0627\u0644\u0623\u0648\u0633\u0637_\u0627\u0644\u062f\u0648\u0644_\u0627\u0644\u0639\u0631\u0628\u064a\u0629_\u0625\u064a\u0631\u0627\u0646_\u0625\u0641\u0631\u064a\u0642\u064a\u0627"},{value:"70",label:"\u062f\u0648\u0644\u0627\u0631_\u0623\u0645\u0631\u064a\u0643\u064a_\u0633\u0648\u0642_\u0627\u0644\u0634\u0631\u0642_\u0627\u0644\u0623\u0642\u0635\u0649_\u0627\u0644\u0647\u0646\u062f_\u0643\u0648\u0631\u064a\u0627_\u0627\u0644\u0635\u064a\u0646_\u0628\u0627\u0643\u0633\u062a\u0627\u0646_\u0628\u0646\u063a\u0644\u0627\u062f\u064a\u0634_\u0627\u0644\u0641\u0644\u0628\u064a\u0646_\u062a\u0627\u064a\u0644\u0627\u0646\u062f"}],m=[{value:41,label:"\u0625\u0646\u0647\u0627\u0621 \u062e\u062f\u0645\u0629 \u0628\u0633\u0628\u0628_\u0642\u0627\u0646\u0648\u0646\u064a - 41"},{value:42,label:"\u0641\u0635\u0644 \u0628\u0633\u0628\u0628 \u0636\u0639\u0641 \u0645\u0633\u062a\u0648\u0649 \u0627\u0644\u0623\u062f\u0627\u0621 - 42"},{value:43,label:"\u0625\u0646\u0647\u0627\u0621 \u062e\u062f\u0645\u0629 \u0628\u0633\u0628\u0628_\u0635\u062d\u064a - 43"},{value:44,label:"\u0625\u0646\u0647\u0627\u0621 \u062e\u062f\u0645\u0629 \u0628\u0633\u0628\u0628_\u0627\u0644\u0648\u0641\u0627\u0629 - 44"},{value:45,label:"\u0625\u0646\u0647\u0627\u0621 \u062e\u062f\u0645\u0629 \u0628\u0633\u0628\u0628_\u0627\u0644\u062a\u0642\u0627\u0639\u062f - 45"},{value:46,label:"\u0625\u0646\u0647\u0627\u0621 \u062e\u062f\u0645\u0629 \u0627\u0633\u0628\u0627\u0628_\u0627\u062e\u0631\u0649 - 46"},{value:33,label:"\u0627\u0633\u062a\u0642\u0627\u0644\u0629 \u0627\u0633\u0628\u0627\u0628_\u0634\u062e\u0635\u064a\u0629 - 33"},{value:34,label:"\u0627\u0633\u062a\u0642\u0627\u0644\u0629 \u0627\u0633\u0628\u0627\u0628_\u0635\u062d\u064a\u0629 - 34"},{value:38,label:"\u0627\u0633\u062a\u0642\u0627\u0644\u0629 \u0644\u0627\u0633\u0628\u0627\u0628_\u062e\u0631\u0649 - 38"},{value:30,label:"\u0646\u0642\u0644_\u062f\u0627\u062e\u0644_\u0627\u0644\u0642\u0637\u0627\u0639 - 30"},{value:31,label:"\u0646\u0642\u0644_\u062e\u0627\u0631\u062c_\u0627\u0644\u0642\u0637\u0627\u0639 - 31"},{value:50,label:"\u0625\u0646\u0647\u0627\u0621 \u062e\u062f\u0645\u0629 \u0644\u0634\u0647\u064a\u062f_\u0627\u0644\u0648\u0627\u062c\u0628 - 50"}],p=[{id:"128b34e8-6595-446c-b630-4a8e5f214d83",name:"\u0645\u0635\u062d\u0629 \u0627\u0644\u0646\u0641\u0637 \u2013 \u0637\u0631\u0627\u0628\u0644\u0633"},{id:"eb06d390-2879-41d8-ae24-5db13ba5f140",name:"\u0645\u0635\u062d\u0629 \u0627\u0628\u0646 \u0633\u064a\u0646\u0627\u0621 \u2013 \u0628\u0646\u063a\u0627\u0632\u064a"},{id:"4148f325-142c-47a8-bf39-b2ce174ea974",name:"\u0645\u0635\u062d\u0640\u0629 \u062c\u0627\u0644\u0648"}],n=[{value:0,label:"\u0634\u0627\u063a\u0631\u0629"},{value:1,label:"\u0641\u0639\u0644\u064a\u0647"},{value:2,label:"\u0645\u0646\u062a\u062f\u0628 \u0639\u0644\u064a\u0647\u0627"}],t=[{value:0,label:"\u0645\u0645\u062a\u0627\u0632"},{value:1,label:"\u062c\u064a\u062f \u062c\u062f\u0627"},{value:2,label:"\u062c\u064a\u062f"},{value:3,label:"\u0645\u0642\u0628\u0648\u0644"}]},8167:(O,v,l)=>{l.r(v),l.d(v,{OrganizationalUnitModule:()=>rt});var i=l(177),g=l(8834),C=l(2102),y=l(9631),_=l(4823),u=l(9417),z=l(8964),b=l(8498),F=l(2208),f=l(3471),m=l(6695),p=l(9159),n=l(7862),t=l(3953),c=l(2298),h=l(7847),U=l(3197),D=l(2016),j=l(2702),N=l(6661),E=l(9213),S=l(9947);const T=()=>[5,10,20];function x(a,s){1&a&&(t.j41(0,"div",38),t.EFF(1," \u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0629. "),t.k0s())}function G(a,s){if(1&a){const e=t.RV6();t.j41(0,"div",30)(1,"div",10)(2,"div",31)(3,"label",32),t.EFF(4,"\u0627\u0644\u0645\u0644\u0627\u062d\u0638\u0629"),t.k0s(),t.nrm(5,"input",33),t.DNE(6,x,2,0,"div",34),t.k0s(),t.j41(7,"div",35)(8,"a",36),t.bIt("click",function(){const r=t.eBV(e).index,d=t.XpG(2);return t.Njj(d.removeNote(r))}),t.j41(9,"i",37),t.EFF(10,"close"),t.k0s()()()()()}if(2&a){let e;const o=s.$implicit,r=s.index,d=t.XpG(2);t.Y8G("formGroupName",r),t.R7$(3),t.Mz_("for","familyName",r,""),t.R7$(2),t.Mz_("id","familyName",r,""),t.R7$(),t.Y8G("ngIf",(null==(e=d.getControl(o,"text"))?null:e.invalid)&&((null==(e=d.getControl(o,"text"))?null:e.dirty)||(null==(e=d.getControl(o,"text"))?null:e.touched)))}}function A(a,s){if(1&a){const e=t.RV6();t.j41(0,"div",6)(1,"div",7)(2,"div",8)(3,"form",9)(4,"div",10)(5,"div",11),t.nrm(6,"app-dynamic-dropdown",12),t.k0s(),t.j41(7,"div",13)(8,"label",14),t.EFF(9,"\u0627\u0633\u0645 \u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629"),t.k0s(),t.nrm(10,"input",15),t.k0s(),t.j41(11,"div",11),t.nrm(12,"app-dynamic-dropdown",16),t.k0s(),t.j41(13,"div",11)(14,"label"),t.EFF(15,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629"),t.k0s(),t.nrm(16,"input",17),t.k0s()(),t.j41(17,"div",10)(18,"div",13)(19,"app-dynamic-dropdown",18),t.bIt("optionSelected",function(r){t.eBV(e);const d=t.XpG();return t.Njj(d.onOrganizationalUnitsByLevel0Select(r))}),t.k0s()(),t.j41(20,"div",11)(21,"label",19),t.EFF(22,"\u0631\u0645\u0632 \u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629"),t.k0s(),t.nrm(23,"input",20),t.nI1(24,"async"),t.k0s(),t.j41(25,"div",11)(26,"label",21),t.EFF(27,"\u0645\u0631\u0643\u0632 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"),t.k0s(),t.nrm(28,"input",22),t.k0s(),t.j41(29,"div",11)(30,"div",21),t.EFF(31,"\u0647\u0644 \u0648\u062d\u062f\u0629 \u0634\u0624\u0648\u0646 \u0645\u0648\u0638\u0641\u064a\u0646\u061f"),t.k0s(),t.nrm(32,"input",23),t.k0s(),t.j41(33,"div",24),t.EFF(34," \u0625\u0636\u0627\u0641\u0629 \u0645\u0644\u0627\u062d\u0638\u0629 "),t.j41(35,"button",25),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.addNote())}),t.nrm(36,"i",26),t.k0s()()(),t.j41(37,"div",27),t.DNE(38,G,11,6,"div",28),t.k0s(),t.j41(39,"button",29),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.onAdd())}),t.EFF(40,"\u062d\u0641\u0638"),t.k0s()()()()()}if(2&a){const e=t.XpG();t.R7$(3),t.Y8G("formGroup",e.registerForm),t.R7$(3),t.Y8G("fetchData",e.loadUnitType.bind(e))("data",e.organizationalUnitFacade.UnitTypeSubject$)("displayKey","name")("pageSize",10)("placeholder","\u0646\u0648\u0639 \u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629"),t.R7$(6),t.Y8G("fetchData",e.loadClassifications.bind(e))("data",e.classificationBranchesFacade.ClassificationSubject$)("displayKey","name")("pageSize",10)("placeholder","\u0627\u0644\u062a\u0635\u0646\u064a\u0641"),t.R7$(7),t.Y8G("fetchData",e.loadOrganizationalUnitsLevel0.bind(e))("data",e.organizationalUnitFacade.OrganizationalUnitsByLevelSubject$)("displayKey","name")("pageSize",10)("placeholder","\u064a\u062a\u0628\u0639 \u0644\u0640"),t.R7$(4),t.FS9("value",t.bMT(24,22,e.organizationalUnitFacade.ContentIdNextQuery$)),t.Y8G("disabled",!0),t.R7$(5),t.Y8G("disabled",!0)("minlength",4)("maxlength",6),t.R7$(10),t.Y8G("ngForOf",e.Notes.controls)}}function R(a,s){1&a&&(t.j41(0,"p"),t.EFF(1,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a \u0644\u0644\u0639\u0631\u0636"),t.k0s())}function k(a,s){1&a&&(t.j41(0,"th",64),t.EFF(1,"\u0627\u0633\u0645 \u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629"),t.k0s())}function I(a,s){if(1&a&&(t.j41(0,"td",65),t.EFF(1),t.k0s()),2&a){const e=s.$implicit;t.R7$(),t.JRh(e.name)}}function $(a,s){1&a&&(t.j41(0,"th",64),t.EFF(1,"\u0645\u0631\u0643\u0632 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"),t.k0s())}function w(a,s){if(1&a&&(t.j41(0,"td",65),t.EFF(1),t.k0s()),2&a){const e=s.$implicit;t.R7$(),t.JRh(e.costCenter)}}function B(a,s){1&a&&(t.j41(0,"th",64),t.EFF(1,"\u064a\u062a\u0628\u0639 \u0644\u0640"),t.k0s())}function V(a,s){if(1&a&&(t.j41(0,"td",65),t.EFF(1),t.k0s()),2&a){const e=s.$implicit;t.R7$(),t.JRh(e.parentName)}}function P(a,s){1&a&&(t.j41(0,"th",64),t.EFF(1,"\u0627\u0644\u062a\u0635\u0646\u064a\u0641"),t.k0s())}function M(a,s){if(1&a&&(t.j41(0,"td",65),t.EFF(1),t.k0s()),2&a){const e=s.$implicit;t.R7$(),t.JRh(e.classificationsName)}}function Y(a,s){1&a&&(t.j41(0,"th",64),t.EFF(1,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u0648\u0627\u0641\u0642\u0629"),t.k0s())}function L(a,s){if(1&a&&(t.j41(0,"td",65),t.EFF(1),t.nI1(2,"date"),t.k0s()),2&a){const e=s.$implicit;t.R7$(),t.JRh(t.bMT(2,1,e.approvalDate))}}function X(a,s){1&a&&(t.j41(0,"th",64),t.EFF(1,"\u0627\u0644\u0625\u062c\u0631\u0627\u0621\u0627\u062a"),t.k0s())}function K(a,s){if(1&a){const e=t.RV6();t.j41(0,"button",68),t.bIt("click",function(){t.eBV(e);const r=t.XpG().$implicit,d=t.XpG(3);return t.Njj(d.onEdit(r))}),t.j41(1,"mat-icon"),t.EFF(2,"edit"),t.k0s()()}}function Q(a,s){if(1&a){const e=t.RV6();t.j41(0,"button",69),t.bIt("click",function(){t.eBV(e);const r=t.XpG().$implicit,d=t.XpG(3);return t.Njj(d.onDelete(r.id))}),t.j41(1,"mat-icon"),t.EFF(2,"delete"),t.k0s()()}}function J(a,s){if(1&a&&(t.j41(0,"td",65),t.DNE(1,K,3,0,"button",66)(2,Q,3,0,"button",67),t.k0s()),2&a){const e=t.XpG(3);t.R7$(),t.Y8G("ngIf",e.sharedFacade.hasPermission("UpdateOrganizationalUnit")),t.R7$(),t.Y8G("ngIf",e.sharedFacade.hasPermission("DeleteOrganizationalUnit"))}}function H(a,s){1&a&&t.nrm(0,"tr",70)}function W(a,s){1&a&&t.nrm(0,"tr",71)}function Z(a,s){if(1&a){const e=t.RV6();t.j41(0,"div",51)(1,"table",52),t.qex(2,53),t.DNE(3,k,2,0,"th",54)(4,I,2,1,"td",55),t.bVm(),t.qex(5,56),t.DNE(6,$,2,0,"th",54)(7,w,2,1,"td",55),t.bVm(),t.qex(8,57),t.DNE(9,B,2,0,"th",54)(10,V,2,1,"td",55),t.bVm(),t.qex(11,58),t.DNE(12,P,2,0,"th",54)(13,M,2,1,"td",55),t.bVm(),t.qex(14,59),t.DNE(15,Y,2,0,"th",54)(16,L,3,3,"td",55),t.bVm(),t.qex(17,60),t.DNE(18,X,2,0,"th",54)(19,J,3,2,"td",55),t.bVm(),t.DNE(20,H,1,0,"tr",61)(21,W,1,0,"tr",62),t.k0s(),t.j41(22,"mat-paginator",63),t.bIt("page",function(r){t.eBV(e);const d=t.XpG(2);return t.Njj(d.onPageChange(r))}),t.k0s()()}if(2&a){const e=t.XpG(2);t.R7$(),t.Y8G("dataSource",e.dataSource),t.R7$(19),t.Y8G("matHeaderRowDef",e.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",e.displayedColumns),t.R7$(),t.Y8G("pageIndex",e.currentPage)("length",e.totalCount)("pageSize",e.pageSize)("pageSizeOptions",t.lJ4(7,T))}}function q(a,s){if(1&a){const e=t.RV6();t.j41(0,"div",39)(1,"app-card",40)(2,"form",41)(3,"div",11)(4,"label",42),t.EFF(5,"\u0627\u0633\u0645 \u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629"),t.k0s(),t.nrm(6,"input",43),t.k0s(),t.j41(7,"div",11)(8,"label",44),t.EFF(9,"\u0645\u0631\u0643\u0632 \u0627\u0644\u062a\u0643\u0644\u0641\u0629"),t.k0s(),t.nrm(10,"input",45),t.k0s(),t.j41(11,"div",46)(12,"button",47),t.bIt("click",function(){t.eBV(e);const r=t.XpG();return t.Njj(r.onSearch())}),t.EFF(13," \u0628\u062d\u062b "),t.nrm(14,"i",48),t.k0s()()(),t.nrm(15,"br"),t.DNE(16,R,2,0,"p",49)(17,Z,23,8,"div",50),t.k0s()()}if(2&a){const e=t.XpG();t.R7$(),t.Y8G("options",!1),t.R7$(),t.Y8G("formGroup",e.registerFormSearch),t.R7$(14),t.Y8G("ngIf",0==e.dataSource.data.length),t.R7$(),t.Y8G("ngIf",0!=e.dataSource.data.length)}}const tt=[{path:"",component:(()=>{class a{onPageChange(e){this.currentPage=e.pageIndex,this.pageSize=e.pageSize,this.loadOrganizationalUnits(this.currentPage+1,this.pageSize)}loadOrganizationalUnits(e,o){return this.organizationalUnitFacade.GetOrganizationalUnit(e,o,"")}loadOrganizationalUnitsLevel0(e,o){this.getOrganizationalUnitsByLevel(0,e,o)}loadOrganizationalUnitsLevel2(e,o){this.getOrganizationalUnitsByLevel(2,e,o)}loadUnitType(e,o){this.organizationalUnitFacade.GetUnitType(e,o)}loadClassifications(e,o){this.classificationBranchesFacade.GetClassification(e,o)}onOrganizationalUnitsByLevel0Select(e){this.getOrganizationalUnitIdNextQuery()}ngOnInit(){this.edit=!1,this.dataSource.paginator=this.paginator,this.loadOrganizationalUnits(this.currentPage+1,this.pageSize),this.loadOrganizationalUnitsLevel0(1,10),this.loadOrganizationalUnitsLevel2(1,10),this.loadUnitType(1,10),this.loadClassifications(1,10),this.organizationalUnitFacade.OrganizationalUnitSubject$.subscribe(e=>{this.dataSource.data=e.items,this.totalCount=e.totalCount}),this.organizationalUnitFacade.ContentIdNextQuerySubject$.subscribe(e=>{this.registerForm.controls.number.setValue(e)})}constructor(e,o,r,d){this.fb=e,this.organizationalUnitFacade=o,this.classificationBranchesFacade=r,this.sharedFacade=d,this.displayedColumns=["name","costCenter","parentName","classificationsName","approvalDate","actions"],this.dataSource=new p.I6,this.totalCount=0,this.pageSize=10,this.currentPage=0,this.edit=!1,this.registerForm=this.fb.group({id:[""],name:["",u.k0.required],classification:[null],number:[{value:"",disabled:!0}],parent:[null],costCenter:["",[u.k0.minLength(4),u.k0.maxLength(6)]],approvalDate:[""],Notes:this.fb.array([]),organizationStructureType:[null,u.k0.required],isEmployeeAffairs:[!1,u.k0.required]}),this.registerFormSearch=this.fb.group({number:[""],name:[""]}),this.optionsJobClassification=F.oz,this.optionsBooleanGeneral=F.Vy,this.length=length,this.registerForm.controls.id.setValue("")}createNote(){return this.fb.group({text:["",u.k0.required]})}onSubmit(){return this.registerForm.controls.id.setValue(""),this.loadOrganizationalUnitsLevel0(1,10),this.loadOrganizationalUnitsLevel2(1,10),this.loadClassifications(1,10),this.loadOrganizationalUnits(this.currentPage+1,this.pageSize)}getOrganizationalUnitsByLevel(e,o,r){this.organizationalUnitFacade.GetOrganizationalUnitsByLevel(o,r,e)}onSearch(){this.registerForm.controls.id.setValue(""),null==this.registerFormSearch.value.name&&""==this.registerFormSearch.value.number?this.onSubmit():this.organizationalUnitFacade.filterOrganizationalUnits(1,10,null,this.registerFormSearch.value?.name??null,null,this.registerFormSearch.value?.number??"")}getOrganizationalUnitIdNextQuery(){this.registerForm.value?.parent&&this.organizationalUnitFacade.GetOrganizationalUnitIdNextQuery(this.registerForm.value?.parent.id)}onDelete(e){confirm("\u0647\u0644 \u0623\u0646\u062a \u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u0639\u0645\u0644\u064a\u0629 \u0627\u0644\u0645\u0633\u062d\u061f")&&this.organizationalUnitFacade.deleteOrganizationalUnit(e).subscribe(()=>{this.edit=!1,this.registerForm.reset(),this.loadOrganizationalUnits(this.currentPage+1,this.pageSize)})}onReset(){return this.edit=!1,this.registerForm.reset(),this.registerForm.setErrors(null),this.registerFormSearch.reset(),this.registerFormSearch.setErrors(null),this.onSubmit()}onAdd(){if(this.registerForm.valid){this.registerForm.controls.name.setValue(this.registerForm.value.organizationStructureType.name+" "+this.registerForm.controls.name.value);const e={...this.registerForm?.value,classificationId:this.registerForm.value?.classification?.id||null,classificationsName:this.registerForm.value?.classification?.name||"",parentId:this.registerForm.value?.parent?.id||null,parentName:this.registerForm.value?.parent?.name||"",organizationStructureTypeId:this.registerForm.value?.organizationStructureType.id};this.edit?this.organizationalUnitFacade.UpdateOrganizationalUnit(e).subscribe(()=>{this.onReset()}):this.organizationalUnitFacade.AddOrganizationalUnit(e).subscribe(()=>{this.onReset()})}else{if(""==this.registerForm.value.organizationStructureType||this.registerForm.controls.organizationStructureType.invalid)return void this.sharedFacade.showMessage(f.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062e\u062a\u0631 \u0646\u0648\u0639 \u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629",[""]);if(""==this.registerForm.value.name||this.registerForm.controls.name.invalid)return void this.sharedFacade.showMessage(f.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0627\u0633\u0645 \u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629",[""]);if(""==this.registerForm.value.costCenter||this.registerForm.controls.costCenter.invalid)return void this.sharedFacade.showMessage(f.Go.warning,"\u0639\u0641\u0648\u0627\u064b\u060c \u0627\u0644\u0631\u062c\u0627\u0621 \u0627\u062f\u062e\u0627\u0644 \u0645\u0631\u0643\u0632 \u0627\u0644\u062a\u0643\u0644\u0641\u0629 \u0648\u064a\u062a\u0643\u0648\u0646 \u0645\u0646 4 \u0625\u0644\u064a 6 \u062e\u0627\u0646\u0627\u062a",[""])}}onEdit(e){this.registerForm.patchValue({...e,classification:{id:e?.classificationId||null,name:e?.classificationsName||null},parent:{id:e?.parentId||null,name:e?.parentName||null},organizationStructureType:{id:e?.organizationStructureTypeId||null,name:e?.organizationStructureTypeName||null},approvalDate:(0,n.GP)(e.approvalDate,"yyyy-MM-dd")}),this.registerForm.controls.number.setValue(e.number),this.edit=!0}addNote(){const e=this.registerForm.get("Notes");0==e.length&&e.push(this.createNote())}removeNote(e){this.Notes.removeAt(e)}get Notes(){return this.registerForm.get("Notes")}getControl(e,o){return e.get(o)}static#t=this.\u0275fac=function(o){return new(o||a)(t.rXU(u.ok),t.rXU(c.$),t.rXU(h.Z),t.rXU(U.I))};static#e=this.\u0275cmp=t.VBU({type:a,selectors:[["app-rewards-types"]],viewQuery:function(o,r){if(1&o&&t.GBs(m.iy,5),2&o){let d;t.mGM(d=t.lsd())&&(r.paginator=d.first)}},decls:9,vars:2,consts:[[1,"position-relative"],[1,"position-absolute",2,"left","10px","top","10px","z-index","10"],["title","\u062a\u062c\u062f\u064a\u062f \u062c\u0645\u064a\u0639 \u0627\u0644\u062e\u0627\u0646\u0627\u062a","mat-button","","type","button",1,"close","mat-button",3,"click"],[1,"material-icons","text-primary"],["class","col-sm-12",4,"ngIf"],["class","col-xl-12",4,"ngIf"],[1,"col-sm-12"],[1,"card"],[1,"card-body"],["action","javascript:",3,"formGroup"],[1,"row"],[1,"form-group","col-md-2"],["formControlName","organizationStructureType",3,"fetchData","data","displayKey","pageSize","placeholder"],[1,"form-group","col-md-3"],["for","inlineFormName"],["type","text","required","","formControlName","name","id","inlineFormName",1,"form-control"],["formControlName","classification",3,"fetchData","data","displayKey","pageSize","placeholder"],["type","date","formControlName","approvalDate","id","approvalDate",1,"form-control"],["formControlName","parent",3,"optionSelected","fetchData","data","displayKey","pageSize","placeholder"],["for","inlineFormNumber"],["type","text","formControlName","number","id","inlineFormNumber",1,"form-control",3,"value","disabled"],["for","inlineFormCostNumber"],["required","","type","text","formControlName","costCenter","id","inlineFormCostNumber",1,"form-control",3,"disabled","minlength","maxlength"],["formControlName","isEmployeeAffairs","type","checkbox","id","isEmployeeAffairs",1,"form-check-input","mt-2"],[1,"form-group","col-md-3","align-self-end"],["ngbDropdownToggle","","type","button",1,"btn","drp-icon","btn-rounded","btn-success",3,"click"],[1,"feather","icon-plus"],["formArrayName","Notes"],[3,"formGroupName",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-md","btn-themeAdd","has-ripple",3,"click"],[3,"formGroupName"],[1,"form-group","col-md-5"],[3,"for"],["type","text","formControlName","text","required","",1,"form-control",3,"id"],["class","text-danger",4,"ngIf"],[1,"form-group","col-md-1","align-self-end"],["mat-button","","type","button","aria-hidden","true","data-notify","dismiss",1,"close","mat-button",3,"click"],[1,"material-icons","text-danger"],[1,"text-danger"],[1,"col-xl-12"],["cardTitle","\u0627\u0644\u0628\u062d\u062b","blockClass","table-border-style",3,"options"],["action","javascript:",1,"row","row-cols-md-auto","g-3","align-items-center",3,"formGroup"],["for","inlineFormInputName"],["type","text","formControlName","name","id","inlineFormInputName",1,"form-control"],["for","inlineFormInputNumber"],["type","number","formControlName","number","id","inlineFormInputNumber",1,"form-control"],[1,"col-3"],["type","button",1,"btn","btn-outline-info",3,"click"],[1,"feather","icon-info"],[4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"table-responsive"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","costCenter"],["matColumnDef","parentName"],["matColumnDef","classificationsName"],["matColumnDef","approvalDate"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"page","pageIndex","length","pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click",4,"ngIf"],["mat-icon-button","","color","warn",3,"click",4,"ngIf"],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,r){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"a",2),t.bIt("click",function(){return r.onReset()}),t.j41(3,"i",3),t.EFF(4,"refresh"),t.k0s()()(),t.nrm(5,"app-loading")(6,"app-messages"),t.DNE(7,A,41,24,"div",4)(8,q,18,4,"div",5),t.k0s()),2&o&&(t.R7$(7),t.Y8G("ngIf",r.sharedFacade.hasPermission("AddOrganizationalUnit")||r.sharedFacade.hasPermission("UpdateOrganizationalUnit")),t.R7$(),t.Y8G("ngIf",r.sharedFacade.hasPermission("ViewOrganizationalUnit")))},dependencies:[i.Sq,i.bT,g.It,g.iY,u.qT,u.me,u.Q0,u.Zm,u.BC,u.cb,u.YS,u.xh,u.tU,u.j4,u.JD,u.$R,u.v8,D.q,j.y,N.m,E.An,m.iy,p.Zl,p.tL,p.ji,p.cC,p.YV,p.iL,p.KS,p.$R,p.YZ,p.NB,S.i,i.Jj,i.vh]})}return a})(),data:{breadcrumb:"OrganizationalUnit"}}];let et=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=t.$C({type:a});static#a=this.\u0275inj=t.G2t({imports:[b.iI.forChild(tt),b.iI]})}return a})();var at=l(9183),it=l(7591),nt=l(821),ot=l(6600),lt=l(2798);let rt=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=t.$C({type:a});static#a=this.\u0275inj=t.G2t({providers:[c.$,z.p,h.Z,nt.w],imports:[i.MD,g.Hl,C.RG,y.fS,_.uc,u.X1,et,at.D6,it.G,ot.Sy,lt.Ve,S.i]})}return a})()},6661:(O,v,l)=>{l.d(v,{m:()=>f});var i=l(3953),g=l(9417),C=l(1413),y=l(152),_=l(177);const u=["dropdownMenu"];function z(m,p){if(1&m){const n=i.RV6();i.j41(0,"li")(1,"a",8),i.bIt("mousedown",function(){const c=i.eBV(n).$implicit,h=i.XpG();return i.Njj(h.onSelectionChange(c))}),i.EFF(2),i.k0s()()}if(2&m){const n=p.$implicit,t=i.XpG();i.R7$(2),i.SpI(" ",n[t.displayKey]," ")}}function b(m,p){1&m&&(i.j41(0,"li",9)(1,"div",10)(2,"span",11),i.EFF(3,"Loading..."),i.k0s()()())}function F(m,p){1&m&&(i.j41(0,"li",12)(1,"small"),i.EFF(2,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),i.k0s()())}let f=(()=>{class m{constructor(){this.pageSize=10,this.placeholder="\u0627\u062e\u062a\u0631 \u062e\u064a\u0627\u0631\u0627\u064b",this.optionSelected=new i.bkB,this.items=[],this.currentPage=1,this.totalCount=0,this.loading=!1,this.isDisabled=!1,this.searchQuery="",this.selectedOption=null,this.searchSubject=new C.B,this.onChange=()=>{},this.onTouched=()=>{},this.searchSubject.pipe((0,y.B)(500)).subscribe(n=>{this.searchQuery=n,this.currentPage=1,this.fetchData(this.currentPage,this.pageSize,n)})}ngOnChanges(n){n.data&&this.data&&this.handleData()}handleData(){this.data.subscribe(n=>{this.items=1===this.currentPage?n.items:[...this.items,...n.items],this.totalCount=n.totalCount,this.loading=!1})}onScroll(n){const t=n.target;t.scrollTop+t.clientHeight+5>=t.scrollHeight&&!this.loading&&this.items.length<this.totalCount&&(this.loading=!0,this.currentPage++,this.fetchData(this.currentPage,this.pageSize,this.searchQuery))}onSelectionChange(n){this.onChange(this.formControlNameSpecificAccessAttribute?n[this.formControlNameSpecificAccessAttribute]:n),this.selectedOption=n,this.optionSelected.emit(n),this.onTouched(),this.closeDropdown()}toggleDropdown(){if(this.isDisabled)return;const n=this.dropdownMenu.nativeElement;n.style.display="block"===n.style.display?"none":"block"}closeDropdown(){setTimeout(()=>{this.dropdownMenu.nativeElement.style.display="none"},150)}onSearch(n){this.searchSubject.next(n)}writeValue(n){this.selectedOption=n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.isDisabled=n}static#t=this.\u0275fac=function(t){return new(t||m)};static#e=this.\u0275cmp=i.VBU({type:m,selectors:[["app-dynamic-dropdown"]],viewQuery:function(t,c){if(1&t&&i.GBs(u,5),2&t){let h;i.mGM(h=i.lsd())&&(c.dropdownMenu=h.first)}},inputs:{fetchData:"fetchData",data:"data",displayKey:"displayKey",pageSize:"pageSize",placeholder:"placeholder",ngClass:"ngClass",formControlNameSpecificAccessAttribute:"formControlNameSpecificAccessAttribute"},outputs:{optionSelected:"optionSelected"},features:[i.Jv_([{provide:g.kq,useExisting:(0,i.Rfq)(()=>m),multi:!0}]),i.OA$],decls:10,vars:8,consts:[["dropdownContainer",""],["dropdownMenu",""],[1,"dropdown","w-100"],["type","text","readonly","","required","",1,"form-control",3,"blur","click","input","value","disabled","placeholder","ngClass"],[1,"dropdown-menu","w-100","overflow-auto",2,"max-height","250px","min-width","100%","display","none",3,"scroll"],[4,"ngFor","ngForOf"],["class","text-center py-2",4,"ngIf"],["class","text-center py-2 text-muted",4,"ngIf"],["href","javascript:void(0)",1,"dropdown-item",3,"mousedown"],[1,"text-center","py-2"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"text-center","py-2","text-muted"]],template:function(t,c){if(1&t){const h=i.RV6();i.j41(0,"div",2,0)(2,"label"),i.EFF(3),i.k0s(),i.j41(4,"input",3),i.bIt("blur",function(){return i.eBV(h),i.Njj(c.closeDropdown())})("click",function(){return i.eBV(h),i.Njj(c.toggleDropdown())})("input",function(D){return i.eBV(h),i.Njj(c.onSearch(D.target.value))}),i.k0s(),i.j41(5,"ul",4,1),i.bIt("scroll",function(D){return i.eBV(h),i.Njj(c.onScroll(D))}),i.DNE(7,z,3,1,"li",5)(8,b,4,0,"li",6)(9,F,3,0,"li",7),i.k0s()()}2&t&&(i.R7$(3),i.JRh(c.placeholder),i.R7$(),i.FS9("placeholder",c.placeholder),i.Y8G("value",c.selectedOption?c.selectedOption[c.displayKey]:"")("disabled",c.isDisabled)("ngClass",c.ngClass),i.R7$(3),i.Y8G("ngForOf",c.items),i.R7$(),i.Y8G("ngIf",c.loading),i.R7$(),i.Y8G("ngIf",0===c.items.length&&!c.loading))},dependencies:[_.YU,_.Sq,_.bT],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.loading-option[_ngcontent-%COMP%]{font-style:italic;text-align:center;color:gray}.custom-panel[_ngcontent-%COMP%]{max-height:200px!important;overflow:hidden!important}.cdk-virtual-scroll-container[_ngcontent-%COMP%]{height:200px;overflow-y:auto}"]})}return m})()}}]);