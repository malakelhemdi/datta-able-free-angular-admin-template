"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[1857],{1857:($,b,s)=>{s.r(b),s.d(b,{ShowAttendanceModule:()=>et});var i=s(177),d=s(9417),E=s(7591),D=s(9947),A=s(4823),w=s(9631),C=s(8834),j=s(8498),p=s(3471),v=s(5351),t=s(3953),f=s(4412),l=s(8141),u=s(6496),c=s(2802),m=s(8655),y=s(1626),S=s(1441);let G=(()=>{class o{constructor(e,n){this.appConfig=e,this.http=n,this.url=this.appConfig.defaultUrl}UploadAttendances(e){const n=new FormData;return n.append("AttendanceFile",e),this.http.post(`${this.url}/api/AttendanceManagement/UploadAttendances?culture=ar-LY`,n)}GetEmployeesDetails(e){let n=new y.Nl;return""!=e.organizationStructureId&&null!=e.organizationStructureId&&(n=n.set("OrganizationStructureId",e.organizationStructureId)),n=n.set("culture","ar-LY"),this.http.get(`${this.url}/api/AttendanceManagement/GetEmployeesDetails`,{params:n})}GetAttendances(e){let n=new y.Nl;return""!=e.EmployeeCode&&null!=e.EmployeeCode&&(n=n.set("EmployeeCode",e.EmployeeCode)),""!=e.year&&null!=e.year&&(n=n.set("Year",e.year)),""!=e.month&&null!=e.month&&(n=n.set("Month",e.month)),n=n.set("culture","ar-LY"),this.http.get(`${this.url}/api/AttendanceManagement/GetAttendances`,{params:n})}static#t=this.\u0275fac=function(n){return new(n||o)(t.KVO(S.o),t.KVO(y.Qq))};static#e=this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac})}return o})();var _=s(3197);let U=(()=>{class o{constructor(e,n,a){this.employeeGlobalServices=e,this.showAttendanceServices=n,this.sharedFacade=a,this.employeeSubject$=new f.t(c.A),this.employee$=this.employeeSubject$.asObservable(),this.GetEmployeesDetailsSubject$=new f.t([]),this.GetEmployeesDetails$=this.GetEmployeesDetailsSubject$.asObservable(),this.GetAttendancesSubject$=new f.t([]),this.GetAttendances$=this.GetAttendancesSubject$.asObservable(),this.UploadAttendancesSubject$=new f.t(""),this.UploadAttendances$=this.UploadAttendancesSubject$.asObservable()}GetEmployee(e,n){const a=this.employeeGlobalServices.GetEmployeeSmallObject(e,n).pipe((0,l.M)(r=>{r.type==p.yl.Success?this.employeeSubject$.next(r.content):(this.employeeSubject$.next(c.A),this.sharedFacade.showMessage(p.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",r.messages))}),(0,u.t)());this.sharedFacade.showLoaderUntilCompleted(a).pipe().subscribe()}GetEmployeesDetails(e){const n=this.showAttendanceServices.GetEmployeesDetails(e).pipe((0,l.M)(a=>{a.type==p.yl.Success?this.GetEmployeesDetailsSubject$.next(a.content):(this.GetEmployeesDetailsSubject$.next([]),this.sharedFacade.showMessage(p.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u062d\u0636\u0648\u0631 \u0648\u0623\u0646\u0635\u0631\u0627\u0641",a.messages))}),(0,u.t)());this.sharedFacade.showLoaderUntilCompleted(n).pipe().subscribe()}GetAttendances(e){this.GetAttendancesSubject$.next([]);const n=this.showAttendanceServices.GetAttendances(e).pipe((0,l.M)(a=>{a.type==p.yl.Success?this.GetAttendancesSubject$.next(a.content):(this.GetAttendancesSubject$.next([]),this.sharedFacade.showMessage(p.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u0639\u0645\u0644\u064a\u0629 \u062c\u0644\u0628 \u062d\u0636\u0648\u0631 \u0648\u0623\u0646\u0635\u0631\u0627\u0641 \u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",a.messages))}),(0,u.t)());this.sharedFacade.showLoaderUntilCompleted(n).pipe().subscribe()}UploadAttendances(e){const n=this.showAttendanceServices.UploadAttendances(e).pipe((0,l.M)(a=>a.type==p.yl.Success?(this.sharedFacade.showMessage(p.Go.success," \u062a\u062d\u0645\u064a\u0644 \u062c\u062f\u0648\u0644 \u0627\u0644\u062d\u0636\u0648\u0631 \u0648\u0627\u0644\u0627\u0646\u0635\u0631\u0627\u0641 \u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",["\u062a\u0645 \u062a\u062d\u0645\u064a\u0644 \u062c\u062f\u0648\u0644 \u0627\u0644\u062d\u0636\u0648\u0631 \u0648\u0627\u0644\u0627\u0646\u0635\u0631\u0627\u0641 \u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0628\u0646\u062c\u0627\u062d"]),void this.UploadAttendancesSubject$.next(a.messages[0])):(this.UploadAttendancesSubject$.next(a.messages[0]),void this.sharedFacade.showMessage(p.Go.error,"\u062e\u0637\u0623 \u0641\u064a \u062a\u062d\u0645\u064a\u0644 \u062c\u062f\u0648\u0644 \u0627\u0644\u062d\u0636\u0648\u0631 \u0648\u0627\u0644\u0627\u0646\u0635\u0631\u0627\u0641 \u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",a.messages))),(0,u.t)());this.sharedFacade.showLoaderUntilCompleted(n).pipe().subscribe()}static#t=this.\u0275fac=function(n){return new(n||o)(t.KVO(m.U),t.KVO(G),t.KVO(_.I))};static#e=this.\u0275prov=t.jDH({token:o,factory:o.\u0275fac})}return o})();var R=s(8203);function I(o,g){if(1&o&&(t.j41(0,"option",14),t.EFF(1),t.k0s()),2&o){const e=g.$implicit;t.Y8G("value",e),t.R7$(),t.JRh(e)}}function z(o,g){if(1&o&&(t.j41(0,"option",14),t.EFF(1),t.k0s()),2&o){const e=g.$implicit;t.Y8G("value",e.id),t.R7$(),t.JRh(e.name)}}function M(o,g){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.nI1(3,"date"),t.k0s(),t.j41(4,"td"),t.EFF(5),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s()()),2&o){const e=g.$implicit;t.R7$(2),t.JRh(t.i5U(3,3,e.date,"yyyy/MM/dd")),t.R7$(3),t.JRh(e.checkInTime),t.R7$(2),t.JRh(e.ckeckOutTime)}}function T(o,g){if(1&o&&(t.j41(0,"div",15)(1,"table",16)(2,"thead")(3,"th"),t.EFF(4,"\u0627\u0644\u062a\u0627\u0631\u064a\u062e "),t.k0s(),t.j41(5,"th"),t.EFF(6,"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062f\u062e\u0648\u0644 "),t.k0s(),t.j41(7,"th"),t.EFF(8,"\u062a\u0633\u062c\u064a\u0644 \u0627\u0644\u062e\u0631\u0648\u062c "),t.k0s()(),t.j41(9,"tbody"),t.DNE(10,M,8,6,"tr",17),t.nI1(11,"async"),t.k0s()()()),2&o){const e=t.XpG();t.R7$(10),t.Y8G("ngForOf",t.bMT(11,1,e.showAttendanceFacade.GetAttendances$))}}function B(o,g){1&o&&(t.j41(0,"div"),t.EFF(1," \u0644\u0627 \u062a\u0648\u062c\u062f \u0633\u062c\u0644 \u0644\u0644\u062d\u0636\u0648\u0631 \u0648\u0627\u0644\u0625\u0646\u0635\u0631\u0627\u0641 "),t.k0s())}let k=(()=>{class o{constructor(e,n,a,r){this.fb=e,this.dialogRef=n,this.showAttendanceFacade=a,this.data=r,this.registerForm=this.fb.group({year:[""],month:[""],EmployeeCode:[""]}),this.years=[],this.months=[{id:1,name:"\u064a\u0646\u0627\u064a\u0631"},{id:2,name:"\u0641\u0628\u0631\u0627\u064a\u0631"},{id:3,name:"\u0645\u0627\u0631\u0633"},{id:4,name:"\u0623\u0628\u0631\u064a\u0644"},{id:5,name:"\u0645\u0627\u064a\u0648"},{id:6,name:"\u064a\u0648\u0646\u064a\u0648"},{id:7,name:"\u064a\u0648\u0644\u064a\u0648"},{id:8,name:"\u0623\u063a\u0633\u0637\u0633"},{id:9,name:"\u0633\u0628\u062a\u0645\u0628\u0631"},{id:10,name:"\u0623\u0643\u062a\u0648\u0628\u0631"},{id:11,name:"\u0646\u0648\u0641\u0645\u0628\u0631"},{id:12,name:"\u062f\u064a\u0633\u0645\u0628\u0631"}],this.registerForm.controls.EmployeeCode.setValue(this.data.EmployeeCode),this.showAttendanceFacade.GetAttendances(this.registerForm.value)}ngOnInit(){for(let n=(new Date).getFullYear();n>=1900;n--)this.years.push(n)}closeDialog(){this.dialogRef.close()}add(){this.dialogRef.close(this.data)}onSearch(){this.showAttendanceFacade.GetAttendances(this.registerForm.value)}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(d.ok),t.rXU(v.CP),t.rXU(U),t.rXU(v.Vh))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-dialogAttendance-details"]],decls:27,vars:10,consts:[[1,"col-xl-12",3,"dir"],[1,"card"],[1,"card-body"],["action","javascript:",3,"formGroup"],[1,"row"],[1,"col-md-3","form-group"],["formControlName","year","required","","aria-label","select example",1,"form-select"],["value","","selected","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","month","required","","aria-label","select example",1,"form-select"],[1,"col-md-3","align-self-center"],["type","button",1,"btn","btn-md","btn-themeNew","has-ripple",3,"click"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],[3,"value"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"]],template:function(n,a){1&n&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"div",4)(5,"div",5)(6,"label"),t.EFF(7,"\u062d\u0633\u0628 \u0627\u0644\u0633\u0646\u0629"),t.k0s(),t.j41(8,"select",6)(9,"option",7),t.EFF(10,"\u0627\u062e\u062a\u0631 ..."),t.k0s(),t.DNE(11,I,2,2,"option",8),t.k0s()(),t.j41(12,"div",5)(13,"label"),t.EFF(14,"\u062d\u0633\u0628 \u0627\u0644\u0634\u0647\u0631"),t.k0s(),t.j41(15,"select",9)(16,"option",7),t.EFF(17,"\u0627\u062e\u062a\u0631 ..."),t.k0s(),t.DNE(18,z,2,2,"option",8),t.k0s()(),t.j41(19,"div",10)(20,"button",11),t.bIt("click",function(){return a.onSearch()}),t.EFF(21,"\u0628\u062d\u062b"),t.k0s()()()(),t.nrm(22,"br"),t.DNE(23,T,12,3,"div",12),t.nI1(24,"async"),t.DNE(25,B,2,0,"div",13),t.nI1(26,"async"),t.k0s()()()),2&n&&(t.Y8G("dir","rtl"),t.R7$(3),t.Y8G("formGroup",a.registerForm),t.R7$(8),t.Y8G("ngForOf",a.years),t.R7$(7),t.Y8G("ngForOf",a.months),t.R7$(5),t.Y8G("ngIf",0!=t.bMT(24,6,a.showAttendanceFacade.GetAttendances$).length),t.R7$(2),t.Y8G("ngIf",0==t.bMT(26,8,a.showAttendanceFacade.GetAttendances$).length))},dependencies:[i.Sq,i.bT,d.qT,d.xH,d.y7,d.wz,d.BC,d.cb,d.YS,d.j4,d.JD,R.ig,i.Jj,i.vh],styles:["mat-dialog-content[_ngcontent-%COMP%]{font-size:16px;color:#333}mat-dialog-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]})}return o})();var O=s(2298),N=s(2016),V=s(2702),x=s(6661);const P=["fileInput"];function Y(o,g){if(1&o){const e=t.RV6();t.j41(0,"div",4)(1,"app-dynamic-dropdown",22),t.bIt("optionSelected",function(a){t.eBV(e);const r=t.XpG();return t.Njj(r.getAllUnitsBranchingFromSpecificUnit(a))}),t.k0s()()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("fetchData",e.loadOrganizationalUnit.bind(e))("data",e.organizationalUnitFacade.AllUnitsDepartmentSubject$)("displayKey","name")("pageSize",10)("placeholder","\u064a\u062a\u0628\u0639 \u0644\u0640")}}function L(o,g){if(1&o){const e=t.RV6();t.j41(0,"div",4)(1,"app-dynamic-dropdown",23),t.bIt("optionSelected",function(a){t.eBV(e);const r=t.XpG();return t.Njj(r.selectSpecificUnit(a))}),t.k0s()()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("fetchData",e.loadAllUnitsBranchingFromSpecificUnit.bind(e))("data",e.organizationalUnitFacade.AllUnitsBranchingFromSpecificUnitSubject$)("displayKey","name")("pageSize",10)("placeholder","\u064a\u062a\u0628\u0639 \u0644\u0640")}}function K(o,g){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.nI1(9,"date"),t.k0s(),t.j41(10,"td"),t.EFF(11),t.k0s(),t.j41(12,"td"),t.EFF(13),t.k0s(),t.j41(14,"td",24)(15,"a",25),t.bIt("click",function(){const a=t.eBV(e).$implicit,r=t.XpG();return t.Njj(r.openDetails(a.employeeCode))}),t.j41(16,"i",26),t.EFF(17,"visibility"),t.k0s()()()()}if(2&o){const e=g.$implicit;t.R7$(2),t.JRh(e.employeeCode),t.R7$(2),t.JRh(e.name),t.R7$(2),t.JRh(e.nocNumber),t.R7$(2),t.JRh(t.bMT(9,6,e.birthDate)),t.R7$(3),t.JRh(1==e.gender?"\u0630\u0643\u0631":"\u0627\u0646\u062b\u0649"),t.R7$(2),t.JRh(e.phoneNumber)}}const X=[{path:"",component:(()=>{class o{constructor(e,n,a,r,h,F){this.dialog=e,this.showAttendanceFacade=n,this.organizationalUnitFacade=a,this.sharedFacade=r,this.fb=h,this.cdr=F,this.registerForm=this.fb.group({organizationStructureId:[""],directManager:[""],organizationalUnitNumber:[""],specificUnit:[""]}),this.years=[],this.months=["\u064a\u0646\u0627\u064a\u0631","\u0641\u0628\u0631\u0627\u064a\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064a\u0644","\u0645\u0627\u064a\u0648","\u064a\u0648\u0646\u064a\u0648","\u064a\u0648\u0644\u064a\u0648","\u0623\u063a\u0633\u0637\u0633","\u0633\u0628\u062a\u0645\u0628\u0631","\u0623\u0643\u062a\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062f\u064a\u0633\u0645\u0628\u0631"],this.multiCollapsed1=!0,this.multiCollapsed2=!0,this.loadEmployees=(nt,it,ot)=>{this.showAttendanceFacade.GetEmployee(nt,it)},this.loremText="Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.",this.showAttendanceFacade.GetEmployeesDetails(this.registerForm.value)}ngOnInit(){this.loadEmployees(1,10);for(let n=(new Date).getFullYear();n>=1900;n--)this.years.push(n);this.organizationalUnitFacade.UnitsByDirectManagerSubject$.next([]),this.organizationalUnitFacade.AllUnitsBranchingFromSpecificUnitSubject$.next(c.A),this.organizationalUnitFacade.AllUnitsDepartmentSubject$.next(c.A),this.onSubmit()}onSubmit(){this.loadOrganizationalUnitsLevel0(1,10),this.loadOrganizationalUnitsLevel2(1,10)}loadOrganizationalUnitsLevel0(e,n){this.getOrganizationalUnitsByLevel(0,e,n)}loadOrganizationalUnitsLevel2(e,n){this.getOrganizationalUnitsByLevel(2,e,n)}getOrganizationalUnitsByLevel(e,n,a){this.organizationalUnitFacade.GetOrganizationalUnitsByLevel(n,a,e)}onOrganizationalUnitsByLevel2Select(e){this.directManager=e.id,this.registerForm.controls.organizationStructureId.setValue(e.id),this.loadOrganizationalUnit(1,10)}loadOrganizationalUnit(e,n){this.registerForm.value?.organizationStructureId&&this.organizationalUnitFacade.GetAllUnitsDepartment(e,n,this.registerForm.value.organizationStructureId)}loadAllUnitsBranchingFromSpecificUnit(e,n){this.organizationalUnitFacade.GetAllUnitsBranchingFromSpecificUnit(e,n,this.registerForm.value?.organizationStructureId)}getAllUnitsBranchingFromSpecificUnit(e){this.registerForm.controls.organizationStructureId.setValue(e.id),this.loadAllUnitsBranchingFromSpecificUnit(1,10),this.registerForm.controls.specificUnit.setValue("")}selectSpecificUnit(e){this.registerForm.controls.organizationStructureId.setValue(e.id)}onSearch(){this.showAttendanceFacade.GetEmployeesDetails(this.registerForm.value)}openDetails(e){e&&(this.dialog.openDialogs.length>0&&this.dialog.closeAll(),this.dialog.open(k,{width:"1100px",height:"750px",data:{EmployeeCode:e},panelClass:"custom-dialog-container"}).afterClosed().subscribe(a=>{a&&this.cdr.detectChanges()}))}uploadFile(e){const n=e.target;if(n.files&&n.files.length>0){const a=n.files[0],r=["xlsx","xls"],h=a.name.split(".").pop()?.toLowerCase();h&&r.includes(h)?this.showAttendanceFacade.UploadAttendances(a):(this.showNotification("\u0639\u0641\u0648\u0627\u064b\u060c excel\u0627\u0644\u0631\u062c\u0627\u0621 \u062a\u0623\u0643\u062f \u0645\u0646 \u0645\u0644\u0641 \u0639\u0644\u0649 \u0627\u0646 \u064a\u0643\u0648\u0646   ",""),n.value="")}}resetFileInput(e){e.value=""}showNotification(e,n){this.sharedFacade.showMessage(p.Go.warning,e,[""])}static#t=this.\u0275fac=function(n){return new(n||o)(t.rXU(v.bZ),t.rXU(U),t.rXU(O.$),t.rXU(_.I),t.rXU(d.ok),t.rXU(t.gRc))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["show-attendance"]],viewQuery:function(n,a){if(1&n&&t.GBs(P,5),2&n){let r;t.mGM(r=t.lsd())&&(a.fileInput=r.first)}},decls:50,vars:15,consts:[["fileInput",""],[1,"card"],[1,"card-body"],[1,"row"],[1,"form-group","col-md-3"],["formControlName","directManager","formControlNameSpecificAccessAttribute","id",3,"optionSelected","fetchData","data","displayKey","pageSize","placeholder"],["class","form-group col-md-3",4,"ngIf"],[1,"col-md-3","align-self-center"],["type","button",1,"btn","btn-md","btn-themeNew","has-ripple",3,"click"],[1,"form-group"],[1,"form-group","row"],[1,"form-group","col-sm-3"],[1,"form-group","col-sm-2","row"],[1,"d-flex","gap-2",2,"cursor","pointer"],["for","inputGroupFile01",1,"btn","btn-md","btn-themeAdd","has-ripple","d-flex","align-items-center"],[1,"feather","icon-upload","ms-2"],["type","file","id","inputGroupFile01",2,"display","none",3,"change","click"],[1,"col-sm-12"],["cardTitle","\u0627\u0644\u062d\u0636\u0648\u0631 \u0648\u0627\u0644\u0625\u0646\u0635\u0631\u0627\u0641","blockClass","table-border-style",3,"options"],[1,"table-responsive"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],["formControlName","organizationalUnitNumber","formControlNameSpecificAccessAttribute","id",3,"optionSelected","fetchData","data","displayKey","pageSize","placeholder"],["formControlName","specificUnit","formControlNameSpecificAccessAttribute","id",3,"optionSelected","fetchData","data","displayKey","pageSize","placeholder"],[1,"td-actions"],["mat-button","","type","button","aria-hidden","true","data-notify","dismiss",1,"edit","mat-button",3,"click"],[1,"material-icons","text-info"]],template:function(n,a){if(1&n){const r=t.RV6();t.nrm(0,"app-loading")(1,"app-messages"),t.j41(2,"div",1)(3,"div",2)(4,"form",3)(5,"div",4)(6,"app-dynamic-dropdown",5),t.bIt("optionSelected",function(F){return t.eBV(r),t.Njj(a.onOrganizationalUnitsByLevel2Select(F))}),t.k0s()(),t.DNE(7,Y,2,5,"div",6),t.nI1(8,"async"),t.DNE(9,L,2,5,"div",6),t.nI1(10,"async"),t.j41(11,"div",7)(12,"button",8),t.bIt("click",function(){return t.eBV(r),t.Njj(a.onSearch())}),t.EFF(13,"\u0628\u062d\u062b"),t.k0s()()(),t.nrm(14,"br"),t.j41(15,"div",9)(16,"div",10),t.nrm(17,"div",11)(18,"div",11)(19,"div",12)(20,"div",12),t.j41(21,"div",12)(22,"div",13)(23,"label",14),t.EFF(24," \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062d\u0636\u0648\u0631 \u0648\u0627\u0644\u0627\u0646\u0635\u0631\u0627\u0641 "),t.nrm(25,"i",15),t.k0s(),t.j41(26,"input",16,0),t.bIt("change",function(F){return t.eBV(r),t.Njj(a.uploadFile(F))})("click",function(){t.eBV(r);const F=t.sdS(27);return t.Njj(a.resetFileInput(F))}),t.k0s()()()()()()(),t.j41(28,"div",17)(29,"app-card",18)(30,"div",19)(31,"table",20)(32,"thead")(33,"th"),t.EFF(34,"\u0631\u0645\u0632 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),t.k0s(),t.j41(35,"th"),t.EFF(36,"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645"),t.k0s(),t.j41(37,"th"),t.EFF(38,"nocNumber"),t.k0s(),t.j41(39,"th"),t.EFF(40,"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0645\u064a\u0644\u0627\u062f"),t.k0s(),t.j41(41,"th"),t.EFF(42,"\u0627\u0644\u062c\u0646\u0633"),t.k0s(),t.j41(43,"th"),t.EFF(44,"\u0631\u0642\u0645 \u0627\u0644\u0647\u0627\u062a\u0641"),t.k0s(),t.j41(45,"th"),t.EFF(46,"\u062a\u0641\u0627\u0635\u064a\u0644"),t.k0s()(),t.j41(47,"tbody"),t.DNE(48,K,18,8,"tr",21),t.nI1(49,"async"),t.k0s()()()()()}if(2&n){let r,h;t.R7$(6),t.Y8G("fetchData",a.loadOrganizationalUnitsLevel2.bind(a))("data",a.organizationalUnitFacade.OrganizationalUnitsByLevel2Subject$)("displayKey","name")("pageSize",10)("placeholder","\u0627\u0644\u0648\u062d\u062f\u0629 \u0627\u0644\u062a\u0646\u0638\u064a\u0645\u064a\u0629"),t.R7$(),t.Y8G("ngIf",0!=(null==(r=t.bMT(8,9,a.organizationalUnitFacade.AllUnitsDepartmentSubject$))?null:r.items.length)&&""!=a.directManager&&null!=a.directManager),t.R7$(2),t.Y8G("ngIf",0!=(null==(h=t.bMT(10,11,a.organizationalUnitFacade.AllUnitsBranchingFromSpecificUnitSubject$))||null==h.items?null:h.items.length)),t.R7$(20),t.Y8G("options",!1),t.R7$(19),t.Y8G("ngForOf",t.bMT(49,13,a.showAttendanceFacade.GetEmployeesDetails$))}},dependencies:[i.Sq,i.bT,d.qT,d.BC,d.cb,d.cV,d.JD,N.q,V.y,x.m,D.i,C.It,i.Jj,i.vh]})}return o})(),data:{breadcrumb:"ShowAttendance"}}];let J=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.$C({type:o});static#n=this.\u0275inj=t.G2t({imports:[j.iI.forChild(X),j.iI]})}return o})();var Q=s(3391),H=s(8964),W=s(2102),Z=s(9183),q=s(6600),tt=s(2798);let et=(()=>{class o{static#t=this.\u0275fac=function(n){return new(n||o)};static#e=this.\u0275mod=t.$C({type:o});static#n=this.\u0275inj=t.G2t({providers:[U,G,O.$,H.p],imports:[i.MD,d.YN,J,d.X1,E.G,D.i,A.uc,w.fS,C.Hl,Q.h_,v.hM,W.RG,Z.D6,q.Sy,tt.Ve]})}return o})()},6661:($,b,s)=>{s.d(b,{m:()=>v});var i=s(3953),d=s(9417),E=s(1413),D=s(152),A=s(177);const w=["dropdownMenu"];function C(t,f){if(1&t){const l=i.RV6();i.j41(0,"li")(1,"a",8),i.bIt("mousedown",function(){const c=i.eBV(l).$implicit,m=i.XpG();return i.Njj(m.onSelectionChange(c))}),i.EFF(2),i.k0s()()}if(2&t){const l=f.$implicit,u=i.XpG();i.R7$(2),i.SpI(" ",l[u.displayKey]," ")}}function j(t,f){1&t&&(i.j41(0,"li",9)(1,"div",10)(2,"span",11),i.EFF(3,"Loading..."),i.k0s()()())}function p(t,f){1&t&&(i.j41(0,"li",12)(1,"small"),i.EFF(2,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),i.k0s()())}let v=(()=>{class t{constructor(){this.pageSize=10,this.placeholder="\u0627\u062e\u062a\u0631 \u062e\u064a\u0627\u0631\u0627\u064b",this.optionSelected=new i.bkB,this.items=[],this.currentPage=1,this.totalCount=0,this.loading=!1,this.isDisabled=!1,this.searchQuery="",this.selectedOption=null,this.searchSubject=new E.B,this.onChange=()=>{},this.onTouched=()=>{},this.searchSubject.pipe((0,D.B)(500)).subscribe(l=>{this.searchQuery=l,this.currentPage=1,this.fetchData(this.currentPage,this.pageSize,l)})}ngOnChanges(l){l.data&&this.data&&this.handleData()}handleData(){this.data.subscribe(l=>{this.items=1===this.currentPage?l.items:[...this.items,...l.items],this.totalCount=l.totalCount,this.loading=!1})}onScroll(l){const u=l.target;u.scrollTop+u.clientHeight+5>=u.scrollHeight&&!this.loading&&this.items.length<this.totalCount&&(this.loading=!0,this.currentPage++,this.fetchData(this.currentPage,this.pageSize,this.searchQuery))}onSelectionChange(l){this.onChange(this.formControlNameSpecificAccessAttribute?l[this.formControlNameSpecificAccessAttribute]:l),this.selectedOption=l,this.optionSelected.emit(l),this.onTouched(),this.closeDropdown()}toggleDropdown(){if(this.isDisabled)return;const l=this.dropdownMenu.nativeElement;l.style.display="block"===l.style.display?"none":"block"}closeDropdown(){setTimeout(()=>{this.dropdownMenu.nativeElement.style.display="none"},150)}onSearch(l){this.searchSubject.next(l)}writeValue(l){this.selectedOption=l}registerOnChange(l){this.onChange=l}registerOnTouched(l){this.onTouched=l}setDisabledState(l){this.isDisabled=l}static#t=this.\u0275fac=function(u){return new(u||t)};static#e=this.\u0275cmp=i.VBU({type:t,selectors:[["app-dynamic-dropdown"]],viewQuery:function(u,c){if(1&u&&i.GBs(w,5),2&u){let m;i.mGM(m=i.lsd())&&(c.dropdownMenu=m.first)}},inputs:{fetchData:"fetchData",data:"data",displayKey:"displayKey",pageSize:"pageSize",placeholder:"placeholder",ngClass:"ngClass",formControlNameSpecificAccessAttribute:"formControlNameSpecificAccessAttribute"},outputs:{optionSelected:"optionSelected"},features:[i.Jv_([{provide:d.kq,useExisting:(0,i.Rfq)(()=>t),multi:!0}]),i.OA$],decls:10,vars:8,consts:[["dropdownContainer",""],["dropdownMenu",""],[1,"dropdown","w-100"],["type","text","readonly","","required","",1,"form-control",3,"blur","click","input","value","disabled","placeholder","ngClass"],[1,"dropdown-menu","w-100","overflow-auto",2,"max-height","250px","min-width","100%","display","none",3,"scroll"],[4,"ngFor","ngForOf"],["class","text-center py-2",4,"ngIf"],["class","text-center py-2 text-muted",4,"ngIf"],["href","javascript:void(0)",1,"dropdown-item",3,"mousedown"],[1,"text-center","py-2"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"text-center","py-2","text-muted"]],template:function(u,c){if(1&u){const m=i.RV6();i.j41(0,"div",2,0)(2,"label"),i.EFF(3),i.k0s(),i.j41(4,"input",3),i.bIt("blur",function(){return i.eBV(m),i.Njj(c.closeDropdown())})("click",function(){return i.eBV(m),i.Njj(c.toggleDropdown())})("input",function(S){return i.eBV(m),i.Njj(c.onSearch(S.target.value))}),i.k0s(),i.j41(5,"ul",4,1),i.bIt("scroll",function(S){return i.eBV(m),i.Njj(c.onScroll(S))}),i.DNE(7,C,3,1,"li",5)(8,j,4,0,"li",6)(9,p,3,0,"li",7),i.k0s()()}2&u&&(i.R7$(3),i.JRh(c.placeholder),i.R7$(),i.FS9("placeholder",c.placeholder),i.Y8G("value",c.selectedOption?c.selectedOption[c.displayKey]:"")("disabled",c.isDisabled)("ngClass",c.ngClass),i.R7$(3),i.Y8G("ngForOf",c.items),i.R7$(),i.Y8G("ngIf",c.loading),i.R7$(),i.Y8G("ngIf",0===c.items.length&&!c.loading))},dependencies:[A.YU,A.Sq,A.bT],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.loading-option[_ngcontent-%COMP%]{font-style:italic;text-align:center;color:gray}.custom-panel[_ngcontent-%COMP%]{max-height:200px!important;overflow:hidden!important}.cdk-virtual-scroll-container[_ngcontent-%COMP%]{height:200px;overflow-y:auto}"]})}return t})()},2802:($,b,s)=>{s.d(b,{A:()=>d});const d={currentPage:0,items:[],pageSize:0,totalCount:0,totalPages:0}}}]);