"use strict";(self.webpackChunkdatta_able_free_angular_admin_template=self.webpackChunkdatta_able_free_angular_admin_template||[]).push([[2504],{3531:(S,y,i)=>{i.r(y),i.d(y,{ShowEmployeeEvaluationTypeModule:()=>A});var t=i(177),d=i(8498),g=i(5336),e=i(3953),h=i(9783),T=i(3197),C=i(2016),D=i(2702),w=i(6661),_=i(9947);const u=()=>["/AddEmployeeEvaluationType"],E=o=>({id:o});function n(o,m){if(1&o){const a=e.RV6();e.j41(0,"button",6),e.bIt("click",function(){e.eBV(a);const c=e.XpG(2);return e.Njj(c.onEmployeeEvaluationTypeDelete(c.selectedEmployeeEvaluationType.id))}),e.EFF(1),e.k0s()}if(2&o){const a=e.XpG(2);e.R7$(),e.SpI(" \u0645\u0633\u062d ",null==a.selectedEmployeeEvaluationType?null:a.selectedEmployeeEvaluationType.name," ")}}function s(o,m){if(1&o&&(e.j41(0,"button",7),e.EFF(1),e.k0s()),2&o){const a=e.XpG(2);e.Y8G("routerLink",e.lJ4(3,u))("queryParams",e.eq3(4,E,a.selectedEmployeeEvaluationType.id)),e.R7$(),e.SpI(" \u062a\u0639\u062f\u064a\u0644 ",null==a.selectedEmployeeEvaluationType?null:a.selectedEmployeeEvaluationType.name," ")}}function l(o,m){if(1&o&&e.DNE(0,n,2,1,"button",4)(1,s,2,6,"button",5),2&o){const a=e.XpG();e.Y8G("ngIf",a.sharedFacade.hasPermission("DeleteEmployeeEvaluation")),e.R7$(),e.Y8G("ngIf",a.sharedFacade.hasPermission("UpdateEvaluationType"))}}function r(o,m){if(1&o&&(e.j41(0,"div",9),e.nrm(1,"div",10),e.j41(2,"div",11),e.EFF(3,"\u0627\u0644\u062f\u0631\u062c\u0629"),e.k0s()(),e.j41(4,"div",9)(5,"div",10),e.EFF(6),e.k0s(),e.nrm(7,"input",12),e.k0s()),2&o){const a=m.$implicit,p=e.XpG().$implicit,c=e.XpG(2);e.R7$(6),e.JRh(a.ElementName),e.R7$(),e.Y8G("value",a.Value)("type",c.getHtmlTypeBasedOnElmentType(p.type))}}function v(o,m){if(1&o&&(e.j41(0,"app-card",8),e.Z7z(1,r,8,3,null,null,e.Vm6),e.k0s()),2&o){const a=m.$implicit;e.FS9("cardTitle",a.ItemName),e.Y8G("options",!1),e.R7$(),e.Dyx(null==a?null:a.Elements)}}function f(o,m){if(1&o&&e.Z7z(0,v,3,2,"app-card",8,e.Vm6),2&o){const a=e.XpG();e.Dyx(a.selectedEmployeeEvaluationType.evaluationData.EvaluationItems)}}const b=[{path:"",component:(()=>{class o{constructor(a,p){this.showEmployeeEvaluationTypeFacade=a,this.sharedFacade=p}loadEmployeeEvaluationTypes(a,p,c){return this.showEmployeeEvaluationTypeFacade.fetchEmployeeEvaluationTypes(a,p)}ngOnInit(){this.loadEmployeeEvaluationTypes(1,10)}get employeeEvaluationTypes(){return this.showEmployeeEvaluationTypeFacade.employeeEvaluationTypes$}onEmployeeEvaluationTypeSelect(a){this.selectedEmployeeEvaluationType=a}onEmployeeEvaluationTypeDelete(a){confirm(`\u0645\u062a\u0623\u0643\u062f \u0645\u0646 \u062d\u0630\u0641 ${this.selectedEmployeeEvaluationType.name}\u061f`)&&(this.showEmployeeEvaluationTypeFacade.deleteEmployeeEvaluationTypes(a).subscribe(()=>{this.loadEmployeeEvaluationTypes(1,10)}),this.selectedEmployeeEvaluationType=void 0)}getHtmlTypeBasedOnElmentType(a){switch(a){case g.R.Number:return"number";case g.R.Boolean:return"radio";default:return"text"}}static#e=this.\u0275fac=function(p){return new(p||o)(e.rXU(h.M),e.rXU(T.I))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["show-employee-evaluation-types"]],decls:8,vars:7,consts:[[1,"card"],[1,"card-body"],[1,"evalution-tab-grid"],[3,"optionSelected","fetchData","data","displayKey","pageSize","placeholder"],["class","btn btn-danger",3,"click",4,"ngIf"],["class","btn btn-info",3,"routerLink","queryParams",4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"btn","btn-info",3,"routerLink","queryParams"],["blockClass","table-border-style",3,"cardTitle","options"],[1,"row"],[1,"col-sm-8"],[1,"col-sm-4"],["disabled","","name","DirectManagerScore",1,"col-sm-4",3,"value","type"]],template:function(p,c){1&p&&(e.nrm(0,"app-loading")(1,"app-messages"),e.DNE(2,l,2,2),e.j41(3,"div",0)(4,"div",1)(5,"div",2)(6,"app-dynamic-dropdown",3),e.bIt("optionSelected",function($){return c.onEmployeeEvaluationTypeSelect($)}),e.k0s()()()(),e.DNE(7,f,2,0)),2&p&&(e.R7$(2),e.vxM(c.selectedEmployeeEvaluationType?2:-1),e.R7$(4),e.Y8G("fetchData",c.loadEmployeeEvaluationTypes.bind(c))("data",c.employeeEvaluationTypes)("displayKey","name")("pageSize",10)("placeholder","\u0646\u0648\u0639 \u0627\u0644\u062a\u0642\u064a\u064a\u0645"),e.R7$(),e.vxM(null!=c.selectedEmployeeEvaluationType&&null!=c.selectedEmployeeEvaluationType.evaluationData&&c.selectedEmployeeEvaluationType.evaluationData.EvaluationItems?7:-1))},dependencies:[t.bT,d.Wk,C.q,D.y,w.m,_.i],styles:[".evalution-tab-grid[_ngcontent-%COMP%]{grid-template-columns:100px 50px 100px;grid-template-rows:80px auto 80px;column-gap:10px;row-gap:10px}"]})}return o})(),data:{breadcrumb:"\u0642\u0627\u0626\u0645\u0629 \u0623\u0646\u0648\u0627\u0639 \u0627\u0644\u062a\u0642\u064a\u064a\u0645\u0627\u062a"}}];let F=(()=>{class o{static#e=this.\u0275fac=function(p){return new(p||o)};static#t=this.\u0275mod=e.$C({type:o});static#n=this.\u0275inj=e.G2t({imports:[d.iI.forChild(b),d.iI]})}return o})();var j=i(9417),I=i(5461),P=i(7591),O=i(4823),R=i(9631),M=i(8834);let A=(()=>{class o{static#e=this.\u0275fac=function(p){return new(p||o)};static#t=this.\u0275mod=e.$C({type:o});static#n=this.\u0275inj=e.G2t({providers:[I.A,h.M],imports:[t.MD,F,j.X1,P.G,_.i,O.uc,R.fS,M.Hl]})}return o})()},6661:(S,y,i)=>{i.d(y,{m:()=>_});var t=i(3953),d=i(9417),g=i(1413),e=i(152),h=i(177);const T=["dropdownMenu"];function C(u,E){if(1&u){const n=t.RV6();t.j41(0,"li")(1,"a",8),t.bIt("mousedown",function(){const l=t.eBV(n).$implicit,r=t.XpG();return t.Njj(r.onSelectionChange(l))}),t.EFF(2),t.k0s()()}if(2&u){const n=E.$implicit,s=t.XpG();t.R7$(2),t.SpI(" ",n[s.displayKey]," ")}}function D(u,E){1&u&&(t.j41(0,"li",9)(1,"div",10)(2,"span",11),t.EFF(3,"Loading..."),t.k0s()()())}function w(u,E){1&u&&(t.j41(0,"li",12)(1,"small"),t.EFF(2,"\u0644\u0627 \u062a\u0648\u062c\u062f \u0628\u064a\u0627\u0646\u0627\u062a"),t.k0s()())}let _=(()=>{class u{constructor(){this.pageSize=10,this.placeholder="\u0627\u062e\u062a\u0631 \u062e\u064a\u0627\u0631\u0627\u064b",this.optionSelected=new t.bkB,this.items=[],this.currentPage=1,this.totalCount=0,this.loading=!1,this.isDisabled=!1,this.searchQuery="",this.selectedOption=null,this.searchSubject=new g.B,this.onChange=()=>{},this.onTouched=()=>{},this.searchSubject.pipe((0,e.B)(500)).subscribe(n=>{this.searchQuery=n,this.currentPage=1,this.fetchData(this.currentPage,this.pageSize,n)})}ngOnChanges(n){n.data&&this.data&&this.handleData()}handleData(){this.data.subscribe(n=>{this.items=1===this.currentPage?n.items:[...this.items,...n.items],this.totalCount=n.totalCount,this.loading=!1})}onScroll(n){const s=n.target;s.scrollTop+s.clientHeight+5>=s.scrollHeight&&!this.loading&&this.items.length<this.totalCount&&(this.loading=!0,this.currentPage++,this.fetchData(this.currentPage,this.pageSize,this.searchQuery))}onSelectionChange(n){this.onChange(this.formControlNameSpecificAccessAttribute?n[this.formControlNameSpecificAccessAttribute]:n),this.selectedOption=n,this.optionSelected.emit(n),this.onTouched(),this.closeDropdown()}toggleDropdown(){if(this.isDisabled)return;const n=this.dropdownMenu.nativeElement;n.style.display="block"===n.style.display?"none":"block"}closeDropdown(){setTimeout(()=>{this.dropdownMenu.nativeElement.style.display="none"},150)}onSearch(n){this.searchSubject.next(n)}writeValue(n){this.selectedOption=n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.isDisabled=n}static#e=this.\u0275fac=function(s){return new(s||u)};static#t=this.\u0275cmp=t.VBU({type:u,selectors:[["app-dynamic-dropdown"]],viewQuery:function(s,l){if(1&s&&t.GBs(T,5),2&s){let r;t.mGM(r=t.lsd())&&(l.dropdownMenu=r.first)}},inputs:{fetchData:"fetchData",data:"data",displayKey:"displayKey",pageSize:"pageSize",placeholder:"placeholder",ngClass:"ngClass",formControlNameSpecificAccessAttribute:"formControlNameSpecificAccessAttribute"},outputs:{optionSelected:"optionSelected"},features:[t.Jv_([{provide:d.kq,useExisting:(0,t.Rfq)(()=>u),multi:!0}]),t.OA$],decls:10,vars:8,consts:[["dropdownContainer",""],["dropdownMenu",""],[1,"dropdown","w-100"],["type","text","readonly","","required","",1,"form-control",3,"blur","click","input","value","disabled","placeholder","ngClass"],[1,"dropdown-menu","w-100","overflow-auto",2,"max-height","250px","min-width","100%","display","none",3,"scroll"],[4,"ngFor","ngForOf"],["class","text-center py-2",4,"ngIf"],["class","text-center py-2 text-muted",4,"ngIf"],["href","javascript:void(0)",1,"dropdown-item",3,"mousedown"],[1,"text-center","py-2"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"text-center","py-2","text-muted"]],template:function(s,l){if(1&s){const r=t.RV6();t.j41(0,"div",2,0)(2,"label"),t.EFF(3),t.k0s(),t.j41(4,"input",3),t.bIt("blur",function(){return t.eBV(r),t.Njj(l.closeDropdown())})("click",function(){return t.eBV(r),t.Njj(l.toggleDropdown())})("input",function(f){return t.eBV(r),t.Njj(l.onSearch(f.target.value))}),t.k0s(),t.j41(5,"ul",4,1),t.bIt("scroll",function(f){return t.eBV(r),t.Njj(l.onScroll(f))}),t.DNE(7,C,3,1,"li",5)(8,D,4,0,"li",6)(9,w,3,0,"li",7),t.k0s()()}2&s&&(t.R7$(3),t.JRh(l.placeholder),t.R7$(),t.FS9("placeholder",l.placeholder),t.Y8G("value",l.selectedOption?l.selectedOption[l.displayKey]:"")("disabled",l.isDisabled)("ngClass",l.ngClass),t.R7$(3),t.Y8G("ngForOf",l.items),t.R7$(),t.Y8G("ngIf",l.loading),t.R7$(),t.Y8G("ngIf",0===l.items.length&&!l.loading))},dependencies:[h.YU,h.Sq,h.bT],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.loading-option[_ngcontent-%COMP%]{font-style:italic;text-align:center;color:gray}.custom-panel[_ngcontent-%COMP%]{max-height:200px!important;overflow:hidden!important}.cdk-virtual-scroll-container[_ngcontent-%COMP%]{height:200px;overflow-y:auto}"]})}return u})()},2802:(S,y,i)=>{i.d(y,{A:()=>d});const d={currentPage:0,items:[],pageSize:0,totalCount:0,totalPages:0}}}]);